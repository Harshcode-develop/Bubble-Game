import{n as e,r as t,s as n,t as r}from"./index-HDg7lh23.js";import{i,n as a,r as o,t as s}from"./refresh-cw-B2EYiyHL.js";var c=n(t(),1),l=e();const u=c.memo(({data:e,selectionOrder:t,onClick:n,disabled:r})=>{let i=1,a=t>0;return t===2&&(i=1.15),t===3&&(i=1.3),(0,l.jsx)(o.div,{layout:!0,whileHover:{scale:r||a?i:1.05},whileTap:{scale:r?i:.95},animate:{scale:i,backgroundColor:a?`#4b5563`:`#d1d5db`,borderColor:a?`#000`:`transparent`,color:a?`white`:`black`},className:`
        relative flex items-center justify-center
        w-24 h-24 md:w-36 md:h-36 rounded-full
        cursor-pointer select-none
        border-4 shadow-xl
        transition-colors duration-300
        ${a?`z-20`:`z-10`}
      `,onClick:()=>!r&&n(e.id),children:(0,l.jsx)(`span`,{className:`text-xl md:text-2xl font-bold tracking-wider`,children:e.expression})})});u.displayName=`Bubble`;const d=({duration:e,onComplete:t,isRunning:n,resetKey:r})=>{let[i,a]=(0,c.useState)(e);(0,c.useEffect)(()=>{a(e)},[e,r]),(0,c.useEffect)(()=>{if(!n||i<=0)return;let e=setInterval(()=>{a(t=>t<=1?(clearInterval(e),0):t-1)},1e3);return()=>clearInterval(e)},[n,i]),(0,c.useEffect)(()=>{i===0&&n&&t()},[i,n]);let s=2*Math.PI*24,u=s*(1-i/e);return(0,l.jsxs)(`div`,{className:`relative flex items-center justify-center w-16 h-16`,children:[(0,l.jsxs)(`svg`,{className:`absolute w-full h-full transform -rotate-90`,children:[(0,l.jsx)(`circle`,{cx:`32`,cy:`32`,r:24,stroke:`#e5e7eb`,strokeWidth:`4`,fill:`transparent`}),(0,l.jsx)(o.circle,{cx:`32`,cy:`32`,r:24,stroke:`#000000`,strokeWidth:`4`,fill:`transparent`,strokeDasharray:s,animate:{strokeDashoffset:u},transition:{duration:1,ease:`linear`}})]}),(0,l.jsx)(`span`,{className:`text-xl font-bold text-black`,children:i})]})};var f=a(`arrow-left`,[[`path`,{d:`m12 19-7-7 7-7`,key:`1l729n`}],[`path`,{d:`M19 12H5`,key:`x3x0zl`}]]);const p=()=>{let{currentRound:e,totalRounds:t,bubbles:n,submitRound:a,nextRound:p,resetGame:m,shuffleCurrentBubbles:h,gameMode:g}=r(),[_,v]=(0,c.useState)([]),[y,b]=(0,c.useState)(0);(0,c.useEffect)(()=>{v([]),b(e=>e+1)},[e,n]);let x=c.useCallback(()=>{a(_),setTimeout(()=>{p()},500)},[_,a,p]),S=c.useCallback(e=>{_.includes(e)?v(t=>t.filter(t=>t!==e)):_.length<3&&v([..._,e])},[_]);return(0,l.jsx)(i,{header:(0,l.jsxs)(`div`,{className:`flex items-center justify-between w-full px-4 text-gray-600`,children:[(0,l.jsxs)(`button`,{onClick:m,className:`hover:text-black transition-colors flex items-center bg-gray-100 hover:bg-gray-200 px-3 py-1 rounded-full text-sm font-semibold`,children:[(0,l.jsx)(f,{className:`w-4 h-4 mr-1`}),`Main Menu`]}),(0,l.jsxs)(`div`,{className:`font-mono text-xl font-bold`,children:[`ROUND `,e,` / `,t]}),(0,l.jsx)(`div`,{className:`w-24`}),` `]}),footer:(0,l.jsxs)(`div`,{className:`flex flex-col items-center space-y-4`,children:[(0,l.jsx)(`div`,{className:`text-gray-500 text-sm uppercase tracking-widest font-semibold`,children:`Select Lowest to Highest`}),g!==`MAIN_30`&&(0,l.jsxs)(`button`,{onClick:h,className:`flex items-center space-x-2 text-gray-500 hover:text-black transition-colors px-4 py-2 border border-gray-300 rounded-full hover:bg-gray-100`,children:[(0,l.jsx)(s,{className:`w-4 h-4`}),(0,l.jsx)(`span`,{children:`Shuffle/Refresh`})]})]}),children:(0,l.jsxs)(`div`,{className:`flex flex-col items-center justify-center h-full w-full space-y-12`,children:[(0,l.jsx)(`div`,{className:`mb-4`,children:(0,l.jsx)(d,{duration:15,onComplete:x,isRunning:!0,resetKey:y})}),(0,l.jsx)(`div`,{className:`relative w-full max-w-lg h-96 flex items-center justify-center bg-gray-50/50 rounded-3xl`,children:n.map((e,t)=>{let n=_.indexOf(e.id),r=n===-1?0:n+1;return(0,l.jsx)(o.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{duration:.4,delay:t*.1},className:`absolute ${[`top-[10%] left-1/2 -translate-x-1/2`,`bottom-[15%] left-[10%]`,`bottom-[15%] right-[10%]`][t]}`,children:(0,l.jsx)(u,{data:e,selectionOrder:r,onClick:S,disabled:_.length>=3&&!_.includes(e.id)})},e.id)})})]})})};export{p as GameScreen};